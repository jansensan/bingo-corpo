var e;let t,n,l,i,r,c,o,a,s,d,u;const h="aria-selected",g={ROW:"row",COLUMN:"column",DIAGONAL:"diagonal"};let m="",f=[];function p(){let e=[];n.checked&&e.push("marketing"),l.checked&&e.push("design"),i.checked&&e.push("tech");let t=e.join(",");e.length||(t="marketing");let c=new URL(window.location.href);c.search=`?sujets=${t}`,r.setAttribute("href",c.href)}function E(e){var t;let n=e.target,l=B(n.getAttribute(h));n.setAttribute(h,!l);let i=function(){let e=[[],[],[],[],[]],t=[[],[],[],[],[]],n={bingo:!1,type:null},l=0;if(f.forEach(i=>{let r=[],c=[],o=i.getElementsByClassName("bingo-tile");for(let n=0;n<5;n++){let i=o[n];c.push(y(i)),r.push(i.innerText),t[n][l]=y(i),e[n][l]=i.innerText}c.every(L)&&(n.bingo=!0,n.type=g.ROW,n.labels=r),l++}),n.bingo||(t.forEach((t,l)=>{t.every(L)&&(n.bingo=!0,n.type=g.COLUMN,n.labels=e[l])}),n.bingo))return n;let i=[],r=[];if(l=0,f.forEach(e=>{let t=e.getElementsByClassName("bingo-tile")[l];i.push(y(t)),r.push(t.innerText),l++}),i.every(L)&&(n.bingo=!0,n.type=g.DIAGONAL,n.labels=r),n.bingo)return n;let c=[],o=[];return l=0,f.forEach(e=>{let t=e.getElementsByClassName("bingo-tile")[5-l-1];c.push(y(t)),o.push(t.innerText),l++}),c.every(L)&&(n.bingo=!0,n.type=g.DIAGONAL,n.labels=o),n.bingo,n}();i.bingo&&(t=i.labels,a.innerText="",t.forEach(e=>{let t=document.createElement("li");t.innerText=e,a.appendChild(t)}),c.classList.remove("hidden"),o.showModal(),c.addEventListener("click",b),s.addEventListener("click",b))}function b(){location.reload()}function y(e){return!!e&&B(e.getAttribute(h))}function L(e){return!0===e}function B(e){let t=typeof e;return"string"===t?"true"===e.toLowerCase():"boolean"===t?!0===e:void 0}m=document.documentElement.lang,t=document.getElementById("bingoCard"),o=document.getElementById("bingoDialog"),c=document.getElementById("veil"),n=document.getElementById("marketingCB"),l=document.getElementById("designCB"),i=document.getElementById("techCB"),r=document.getElementById("restartGameLink"),a=document.getElementById("winningLabels"),s=document.getElementById("restartGameButton"),e=function(){let e=[],t=function(){let e=function(){let e;let t=new URLSearchParams(new URL(window.location.href).searchParams);if("fr"===m){let n=t.get("sujets");n&&(e=n.split(","))}else if("en"===m){let n=t.get("scope");n&&(e=n.split(","))}return e}(),t=[];if(e&&e.includes("marketing")||void 0===e){let e=BINGO_DATA.fr.marketing.slice();t.push(...e.slice()),n.checked="checked"}return e&&e.includes("design")&&(BINGO_DATA.fr.design.slice().forEach(e=>{t.includes(e)||t.push(e)}),l.checked="checked"),e&&e.includes("tech")&&(BINGO_DATA.fr.tech.slice().forEach(e=>{t.includes(e)||t.push(e)}),i.checked="checked"),t}();for(let n=0;n<25;n++){let n=Math.floor(Math.random()*t.length),l=t[n];e.push(l),t.splice(n,1)}return e}(),d=0,u=-1,e.forEach(e=>{let t=Math.floor(d/5);if(t!==u){u=t;let e=document.createElement("div");e.classList.add("tile-row"),e.dataset.rowId=u,f.push(e)}let n=function(e){let{index:t,term:n}=e,l=document.createElement("button");l.type="button",l.innerText=n,l.classList.add("bingo-tile");let i=Math.floor(t/5);return l.dataset.col=t%5,l.dataset.row=i,l.setAttribute(h,!1),t%2==0?l.classList.add("even"):l.classList.add("odd"),l}({index:d,term:e});n.addEventListener("click",E),f[u].appendChild(n),d++}),f.forEach(e=>{t.appendChild(e)}),n.addEventListener("change",p),l.addEventListener("change",p),i.addEventListener("change",p);
//# sourceMappingURL=bingo.js.map
