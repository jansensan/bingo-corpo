var e;let t,n,i,o,l,c,r,d,s,a;const u="aria-selected",h={ROW:"row",COLUMN:"column",DIAGONAL:"diagonal"};let g="",m=[];function f(){console.info("--- onOptionChanged ---");let e=[];n.checked&&e.push("marketing"),i.checked&&e.push("design"),o.checked&&e.push("tech");let t=e.join(",");e.length||(t="marketing");let c=new URL(window.location.href);c.search=`?sujets=${t}`,l.setAttribute("href",c.href)}function p(e){let t=e.target,n=L(t.getAttribute(u));t.setAttribute(u,!n),function(){let e=[[],[],[],[],[]],t={bingo:!1,type:null},n=0;if(m.forEach(i=>{let o=[],l=i.getElementsByClassName("bingo-tile");for(let t=0;t<5;t++){let i=l[t];o.push(b(i)),e[t][n]=b(i)}o.every(y)&&(t.bingo=!0,t.type=h.ROW),n++}),t.bingo||(e.forEach(e=>{e.every(y)&&(t.bingo=!0,t.type=h.COLUMN)}),t.bingo))return t;let i=[];if(n=0,m.forEach(e=>{let t=e.getElementsByClassName("bingo-tile");i.push(b(t[n])),n++}),i.every(y)&&(t.bingo=!0,t.type=h.DIAGONAL),t.bingo)return t;let o=[];return n=0,m.forEach(e=>{let t=e.getElementsByClassName("bingo-tile"),i=5-n-1;o.push(b(t[i])),n++}),o.every(y)&&(t.bingo=!0,t.type=h.DIAGONAL),t.bingo,t}().bingo&&(r.classList.remove("hidden"),c.showModal(),r.addEventListener("click",E),d.addEventListener("click",E))}function E(){location.reload()}function b(e){return!!e&&L(e.getAttribute(u))}function y(e){return!0===e}function L(e){let t=typeof e;return"string"===t?"true"===e.toLowerCase():"boolean"===t?!0===e:void 0}g=document.documentElement.lang,t=document.getElementById("bingoCard"),c=document.getElementById("bingoDialog"),r=document.getElementById("veil"),n=document.getElementById("marketingCB"),i=document.getElementById("designCB"),o=document.getElementById("techCB"),l=document.getElementById("restartGameLink"),d=document.getElementById("restartGameButton"),e=function(){let e=[],t=function(){let e=function(){let e;let t=new URLSearchParams(new URL(window.location.href).searchParams);if("fr"===g){let n=t.get("sujets");n&&(e=n.split(","))}else if("en"===g){let n=t.get("scope");n&&(e=n.split(","))}return e}();console.log("scope:",e);let t=[];if(e&&e.includes("marketing")||void 0===e){let e=BINGO_DATA.fr.marketing.slice();t.push(...e.slice()),n.checked="checked"}return e&&e.includes("design")&&(BINGO_DATA.fr.design.slice().forEach(e=>{t.includes(e)||t.push(e)}),i.checked="checked"),e&&e.includes("tech")&&(BINGO_DATA.fr.tech.slice().forEach(e=>{t.includes(e)||t.push(e)}),o.checked="checked"),t}();for(let n=0;n<25;n++){let n=Math.floor(Math.random()*t.length),i=t[n];e.push(i),t.splice(n,1)}return e}(),s=0,a=-1,e.forEach(e=>{let t=Math.floor(s/5);if(t!==a){a=t;let e=document.createElement("div");e.classList.add("tile-row"),e.dataset.rowId=a,m.push(e)}let n=function(e){let{index:t,term:n}=e,i=document.createElement("button");i.type="button",i.innerText=n,i.classList.add("bingo-tile");let o=Math.floor(t/5);return i.dataset.col=t%5,i.dataset.row=o,i.setAttribute(u,!1),t%2==0?i.classList.add("even"):i.classList.add("odd"),i}({index:s,term:e});n.addEventListener("click",p),m[a].appendChild(n),s++}),m.forEach(e=>{t.appendChild(e)}),n.addEventListener("change",f),i.addEventListener("change",f),o.addEventListener("change",f);
//# sourceMappingURL=bingo.js.map
