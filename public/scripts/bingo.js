var e;let t,n,l,i,c,o,r,d,s,a,u,h;const g="aria-selected",m={ROW:"row",COLUMN:"column",DIAGONAL:"diagonal"};let f="",p=[];function E(){let e=[];n.checked&&e.push("corpo"),l.checked&&e.push("marketing"),i.checked&&e.push("design"),c.checked&&e.push("tech");let t=e.join(",");e.length||(t="corpo");let r=new URL(window.location.href);r.search=`?sujets=${t}`,o.setAttribute("href",r.href)}function b(e){var t;let n=e.target,l=k(n.getAttribute(g));n.setAttribute(g,!l);let i=function(){let e=[[],[],[],[],[]],t=[[],[],[],[],[]],n={bingo:!1,type:null},l=0;if(p.forEach(i=>{let c=[],o=[],r=i.getElementsByClassName("bingo-tile");for(let n=0;n<5;n++){let i=r[n];o.push(L(i)),c.push(i.innerText),t[n][l]=L(i),e[n][l]=i.innerText}o.every(B)&&(n.bingo=!0,n.type=m.ROW,n.labels=c),l++}),n.bingo||(t.forEach((t,l)=>{t.every(B)&&(n.bingo=!0,n.type=m.COLUMN,n.labels=e[l])}),n.bingo))return n;let i=[],c=[];if(l=0,p.forEach(e=>{let t=e.getElementsByClassName("bingo-tile")[l];i.push(L(t)),c.push(t.innerText),l++}),i.every(B)&&(n.bingo=!0,n.type=m.DIAGONAL,n.labels=c),n.bingo)return n;let o=[],r=[];return l=0,p.forEach(e=>{let t=e.getElementsByClassName("bingo-tile")[5-l-1];o.push(L(t)),r.push(t.innerText),l++}),o.every(B)&&(n.bingo=!0,n.type=m.DIAGONAL,n.labels=r),n.bingo,n}();i.bingo&&(t=i.labels,s.innerText="",t.forEach(e=>{let t=document.createElement("li");t.innerText=e,s.appendChild(t)}),r.classList.remove("hidden"),d.showModal(),r.addEventListener("click",y),a.addEventListener("click",y))}function y(){location.reload()}function L(e){return!!e&&k(e.getAttribute(g))}function B(e){return!0===e}function k(e){let t=typeof e;return"string"===t?"true"===e.toLowerCase():"boolean"===t?!0===e:void 0}f=document.documentElement.lang,t=document.getElementById("bingoCard"),d=document.getElementById("bingoDialog"),r=document.getElementById("veil"),n=document.getElementById("corpoCB"),l=document.getElementById("marketingCB"),i=document.getElementById("designCB"),c=document.getElementById("techCB"),o=document.getElementById("restartGameLink"),s=document.getElementById("winningLabels"),a=document.getElementById("restartGameButton"),e=function(){let e=[],t=function(){let e=function(){let e;let t=new URLSearchParams(new URL(window.location.href).searchParams);if("fr"===f){let n=t.get("sujets");n&&(e=n.split(","))}else if("en"===f){let n=t.get("scope");n&&(e=n.split(","))}return e}(),t=[];if(e&&e.includes("corpo")||void 0===e){let e=BINGO_DATA.fr.corpo.slice();t.push(...e.slice()),n.checked="checked"}return e&&e.includes("marketing")&&(BINGO_DATA.fr.marketing.slice().forEach(e=>{t.includes(e)||t.push(e)}),l.checked="checked"),e&&e.includes("design")&&(BINGO_DATA.fr.design.slice().forEach(e=>{t.includes(e)||t.push(e)}),i.checked="checked"),e&&e.includes("tech")&&(BINGO_DATA.fr.tech.slice().forEach(e=>{t.includes(e)||t.push(e)}),c.checked="checked"),t}();for(let n=0;n<25;n++){let n=Math.floor(Math.random()*t.length),l=t[n];e.push(l),t.splice(n,1)}return e}(),u=0,h=-1,e.forEach(e=>{let t=Math.floor(u/5);if(t!==h){h=t;let e=document.createElement("div");e.classList.add("tile-row"),e.dataset.rowId=h,p.push(e)}let n=function(e){let{index:t,term:n}=e,l=document.createElement("button");l.type="button",l.innerText=n,l.classList.add("bingo-tile");let i=Math.floor(t/5);return l.dataset.col=t%5,l.dataset.row=i,l.setAttribute(g,!1),t%2==0?l.classList.add("even"):l.classList.add("odd"),l}({index:u,term:e});n.addEventListener("click",b),p[h].appendChild(n),u++}),p.forEach(e=>{t.appendChild(e)}),n.addEventListener("change",E),l.addEventListener("change",E),i.addEventListener("change",E),c.addEventListener("change",E);
//# sourceMappingURL=bingo.js.map
